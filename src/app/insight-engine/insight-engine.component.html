<!-- src/app/insight-engine/insight-engine.component.html -->
<div class="insight-engine-container">
  <header>
    <div class="logo">
      <img src="assets/gryphon-ai-logo.jpg" alt="Gryphen AI Logo" style="height:75px; vertical-align:middle;" />
    </div>
    <div class="user-info">
      <span class="user">User</span>
    </div>
  </header>

  <div class="main-content">
  <app-sidebar></app-sidebar>

    <main class="content-area">
      <h1>Insight Engine</h1>
      <section class="code-to-docs">
        
        <div class="repositories">
          <h3>Ingested Repositories</h3>
          <div class="repo-item" *ngFor="let repo of insightEngineData.repositories">
            <span>{{ repo.name }}</span>
            <span class="url">{{ repo.url }}</span>
            <span class="status" [ngClass]="{'ingested': repo.ingested}">Ingested</span>
          </div>
        </div>
        
        <div  class="repositories">
        <label>Enter URLs (one per line):</label>
        <textarea [(ngModel)]="urlsInput" rows="5" cols="50"></textarea>
        </div>
          <div class="documentation">
            <h3>Documentation</h3>
            <div class="doc-item" *ngFor="let doc of insightEngineData.documentationTypes">
              <input type="checkbox" [id]="doc.name" [checked]="doc.selected" (change)="toggleDoc(doc)">
              <label [for]="doc.name">{{ doc.name }}</label>
            </div>
          </div>
        <button class="generate-btn" (click)="generateDocumentation()" [disabled]="loading">
        {{ loading ? 'Generating...' : 'Generate Documentation' }}
      </button>
        <div *ngIf="generatedDocs.length > 0" class="generated-docs">
          <h3>Generated Documentation:</h3>
          <ul>
            <li *ngFor="let doc of generatedDocs">
              <strong>{{ doc.type | titlecase }}:</strong>
              <a [href]="doc.url" target="_blank">{{ doc.url }}</a>
            </li>
          </ul>
        </div>
      </section>
    </main>
  </div>
</div>
